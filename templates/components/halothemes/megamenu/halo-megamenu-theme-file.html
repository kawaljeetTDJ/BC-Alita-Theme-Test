<script>
    var haloMegaMenu = new window.haloMegaMenu();

    function SetItemMegaMenu(){
        if($(window).width() > 1024) {
            $('.navPages-list-megamenu > li:not(.navPages-item-toggle)').mouseover(event => {

                var numberItem = $(event.currentTarget).index() + 1;

                if (!$(event.currentTarget).hasClass('has-megamenu')) {
                    LoadMegaMenu(numberItem);
                }
            });
        }

        $(document).on('click','#halo-menu-sidebar .navPages-list:not(.navPages-list--user) > li:not(.navPages-item-toggle) > .navPages-action' , event => {
            var numberItem = $(event.currentTarget).parent().index() + 1;

            if (!$(event.currentTarget).parent().hasClass('has-megamenu')) {
                LoadMegaMenu(numberItem);
            }
        });
    }
        
    function LoadMegaMenu(numberItem){
        if (numberItem == 1) {
            haloMegaMenu.menuItem(1).setMegaMenu({
                style: 'style 1',
                imageAreaWidth: '50%',
                cateAreaWidth: '50%',
                productId: '168,137,134,116,112,171',
                cateColumns: 3,
                products:'<h3 class="megamenu-title">Featured Products</h3>\
                        <div class="megamenu-slider halo-dots"></div>',
                content: '<ul class="navPage-subMenu-links navPage-subMenu-list">\
                            <li class="navPage-subMenu-item-child">\
                                <p class="navPage-subMenu-action navPages-action navPages-action-depth-max has-subMenu">\
                                    <span class="text">Shop by</span>\
                                    <span class="navPages-action-moreIcon" aria-hidden="true">\
                                        <svg class="icon"><use xlink:href="#icon-chevron-down"></use></svg>\
                                    </span>\
                                </p>\
                                <div class="navPage-subMenu navPage-subMenu-horizontal" aria-hidden="true" tabindex="-1">\
                                    <ul class="navPage-subMenu-list">\
                                        <li class="navPage-subMenu-item-child navPage-subMenu-title">\
                                            <p class="navPage-subMenu-action navPages-action">\
                                                <span class="navPages-action-moreIcon" aria-hidden="true">\
                                                    <svg class="icon"><use xlink:href="#icon-chevron-down"></use></svg>\
                                                </span>\
                                                <span class="text">Shop by</span>\
                                            </p>\
                                        </li>\
                                        <li class="navPage-subMenu-item-child navPages-action-end">\
                                            <a class="navPage-subMenu-action navPages-action" href="/new-arrivals/?sort=newes"><span class="text">What\'s New</span></a>\
                                        </li>\
                                        <li class="navPage-subMenu-item-child navPages-action-end">\
                                            <a class="navPage-subMenu-action navPages-action" href="/new-arrivals/?sort=bestselling"><span class="text">Best Selling</span></a>\
                                        </li>\
                                        <li class="navPage-subMenu-item-child navPages-action-end">\
                                            <a class="navPage-subMenu-action navPages-action" href="/new-arrivals/?sort=avgcustomerreview"><span class="text">Top Rated</span></a>\
                                        </li>\
                                        <li class="navPage-subMenu-item-child navPages-action-end">\
                                            <a class="navPage-subMenu-action navPages-action" href="/new-arrivals/?sort=featured"><span class="text">Most Popular</span></a>\
                                        </li>\
                                        <li class="navPage-subMenu-item-child navPages-action-end">\
                                            <a class="navPage-subMenu-action navPages-action" href="/new-arrivals/?sort=priceasc"><span class="text">Editor\'s Pick</span></a>\
                                        </li>\
                                    </ul>\
                                </div>\
                            </li>\
                        </ul>',
                images: '<a class="image" href="#">\
                            <img class="lazyload" src="{{cdn 'img/loading.svg'}}" data-src="https://cdn11.bigcommerce.com/s-{{settings.store_hash}}/product_images/uploaded_images/halo-megamenu-1.jpg" alt="Mega Menu Banner 1" title="Mega Menu Banner 1"/>\
                        </a>'
            });
        }

        if (numberItem == 2){
            haloMegaMenu.menuItem(2).setMegaMenu({
                style: 'style 2',
                imageAreaWidth: '50%',
                cateAreaWidth: '50%',
                cateColumns: 3,
                content: '<ul class="navPage-subMenu-links navPage-subMenu-list">\
                            <li class="navPage-subMenu-item-child">\
                                <p class="navPage-subMenu-action navPages-action navPages-action-depth-max has-subMenu">\
                                    <span class="text">Shop by</span>\
                                    <span class="navPages-action-moreIcon" aria-hidden="true">\
                                        <svg class="icon"><use xlink:href="#icon-chevron-down"></use></svg>\
                                    </span>\
                                </p>\
                                <div class="navPage-subMenu navPage-subMenu-horizontal" aria-hidden="true" tabindex="-1">\
                                    <ul class="navPage-subMenu-list">\
                                        <li class="navPage-subMenu-item-child navPage-subMenu-title">\
                                            <p class="navPage-subMenu-action navPages-action">\
                                                <span class="navPages-action-moreIcon" aria-hidden="true">\
                                                    <svg class="icon"><use xlink:href="#icon-chevron-down"></use></svg>\
                                                </span>\
                                                <span class="text">Shop by</span>\
                                            </p>\
                                        </li>\
                                        <li class="navPage-subMenu-item-child navPages-action-end">\
                                            <a class="navPage-subMenu-action navPages-action" href="/new-arrivals/?sort=newes"><span class="text">What\'s New</span></a>\
                                        </li>\
                                        <li class="navPage-subMenu-item-child navPages-action-end">\
                                            <a class="navPage-subMenu-action navPages-action" href="/new-arrivals/?sort=bestselling"><span class="text">Best Selling</span></a>\
                                        </li>\
                                        <li class="navPage-subMenu-item-child navPages-action-end">\
                                            <a class="navPage-subMenu-action navPages-action" href="/new-arrivals/?sort=avgcustomerreview"><span class="text">Top Rated</span></a>\
                                        </li>\
                                        <li class="navPage-subMenu-item-child navPages-action-end">\
                                            <a class="navPage-subMenu-action navPages-action" href="/new-arrivals/?sort=featured"><span class="text">Most Popular</span></a>\
                                        </li>\
                                        <li class="navPage-subMenu-item-child navPages-action-end">\
                                            <a class="navPage-subMenu-action navPages-action" href="/new-arrivals/?sort=priceasc"><span class="text">Editor\'s Pick</span></a>\
                                        </li>\
                                    </ul>\
                                </div>\
                            </li>\
                        </ul>',
                products:'<h3 class="megamenu-title">Top Brands</h3>\
                        <div class="megamenu-brands">\
                            <a class="image" href="#">\
                                <img class="lazyload" src="{{cdn 'img/loading.svg'}}" data-src="https://cdn11.bigcommerce.com/s-{{settings.store_hash}}/product_images/uploaded_images/halo-megamenu-brand-1.jpg" alt="Top Brand 1" title="Top Brand 1">\
                            </a>\
                            <a class="image" href="#">\
                                <img class="lazyload" src="{{cdn 'img/loading.svg'}}" data-src="https://cdn11.bigcommerce.com/s-{{settings.store_hash}}/product_images/uploaded_images/halo-megamenu-brand-2.jpg" alt="Top Brand 2" title="Top Brand 2">\
                            </a>\
                            <a class="image" href="#">\
                                <img class="lazyload" src="{{cdn 'img/loading.svg'}}" data-src="https://cdn11.bigcommerce.com/s-{{settings.store_hash}}/product_images/uploaded_images/halo-megamenu-brand-3.jpg" alt="Top Brand 3" title="Top Brand 3">\
                            </a>\
                            <a class="image" href="#">\
                                <img class="lazyload" src="{{cdn 'img/loading.svg'}}" data-src="https://cdn11.bigcommerce.com/s-{{settings.store_hash}}/product_images/uploaded_images/halo-megamenu-brand-4.jpg" alt="Top Brand 4" title="Top Brand 4">\
                            </a>\
                        </div>',
                images: '<div class="item"><a class="image" href="#">\
                            <img class="lazyload" src="{{cdn 'img/loading.svg'}}" data-src="https://cdn11.bigcommerce.com/s-{{settings.store_hash}}/product_images/uploaded_images/halo-megamenu-2.jpg" alt="Mega Menu Banner 2" title="Mega Menu Banner 2"/>\
                        </a></div>\
                        <div class="item"><a class="image" href="#">\
                            <img class="lazyload" src="{{cdn 'img/loading.svg'}}" data-src="https://cdn11.bigcommerce.com/s-{{settings.store_hash}}/product_images/uploaded_images/halo-megamenu-3.jpg" alt="Mega Menu Banner 3" title="Mega Menu Banner 3"/>\
                        </a></div>'
            });
        }

        if (numberItem == 3){
            haloMegaMenu.menuItem(3).setMegaMenu({
                style: 'style 3',
                cateColumns: 3,
                productId: '163,157,153',
                products:'<h3 class="megamenu-title">Top Rated</h3>\
                        <div class="megamenu-slider2 halo-dots halo-arrows"></div>',
                images: '<div class="item"><a class="image" href="#">\
                            <img class="lazyload" src="{{cdn 'img/loading.svg'}}" data-src="https://cdn11.bigcommerce.com/s-{{settings.store_hash}}/product_images/uploaded_images/halo-megamenu-10.jpg" alt="Mega Menu Banner 10" title="Mega Menu Banner 10"/>\
                        </a></div>\
                        <div class="item"><a class="image" href="#">\
                            <img class="lazyload" src="{{cdn 'img/loading.svg'}}" data-src="https://cdn11.bigcommerce.com/s-{{settings.store_hash}}/product_images/uploaded_images/halo-megamenu-11.jpg" alt="Mega Menu Banner 11" title="Mega Menu Banner 11"/>\
                        </a></div>',
                imagesCustom: '<a class="image" href="#">\
                        <img class="lazyload" src="{{cdn 'img/loading.svg'}}" data-src="https://cdn11.bigcommerce.com/s-{{settings.store_hash}}/product_images/uploaded_images/halo-megamenu-9.jpg" alt="Mega Menu Banner 12" title="Mega Menu Banner 12"/>\
                        </a>'
            });
        }

        if (numberItem == 5){
            haloMegaMenu.menuItem(5).setMegaMenu({
                style: 'style 4',
                cateColumns: 5,
                imagesTop: ['<a class="image" href="#"><img class="lazyload" src="{{cdn 'img/loading.svg'}}"  data-src="https://cdn11.bigcommerce.com/s-{{settings.store_hash}}/product_images/uploaded_images/halo-megamenu-4.jpg" alt="Mega Menu Banner 4" title="Mega Menu Banner 4"/></a>',
                            '<a class="image" href="#"><img class="lazyload" src="{{cdn 'img/loading.svg'}}"  data-src="https://cdn11.bigcommerce.com/s-{{settings.store_hash}}/product_images/uploaded_images/halo-megamenu-5.jpg" alt="Mega Menu Banner 5" title="Mega Menu Banner 5"/></a>',
                            '<a class="image" href="#"><img class="lazyload" src="{{cdn 'img/loading.svg'}}"  data-src="https://cdn11.bigcommerce.com/s-{{settings.store_hash}}/product_images/uploaded_images/halo-megamenu-6.jpg" alt="Mega Menu Banner 6" title="Mega Menu Banner 6"/></a>',
                            '<a class="image" href="#"><img class="lazyload" src="{{cdn 'img/loading.svg'}}"  data-src="https://cdn11.bigcommerce.com/s-{{settings.store_hash}}/product_images/uploaded_images/halo-megamenu-7.jpg" alt="Mega Menu Banner 7" title="Mega Menu Banner 7"/></a>',
                            '<a class="image" href="#"><img class="lazyload" src="{{cdn 'img/loading.svg'}}"  data-src="https://cdn11.bigcommerce.com/s-{{settings.store_hash}}/product_images/uploaded_images/halo-megamenu-8.jpg" alt="Mega Menu Banner 8" title="Mega Menu Banner 8"/></a>'
                ],
                bottomCates: '<div class="megamenu-custom-list"><div class="container"><a class="megamenu-custom-link" href="#"><span class="text">Classy Choices for Wedding, Prom and Formal Attire</span></a></div></div>'
            }); 
        } else{
            return;
        }
    }

    function MegaMenuLabel(){
        haloMegaMenu.menuItem(1).setMegaMenu({
            label: 'New',
            labelType: 'new',
            disabled: true
        });

        haloMegaMenu.menuItem(2).setMegaMenu({
            label: 'Hot',
            labelType: 'hot',
            disabled: true
        });

        haloMegaMenu.menuItem(4).setMegaMenu({
            label: 'Sale',
            labelType: 'sale',
            disabled: true
        });
    }

    MegaMenuLabel();

    var setItemMegaMenu = SetItemMegaMenu();

    window.onload = setItemMegaMenu;
</script>
